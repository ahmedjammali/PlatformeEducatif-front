<!-- payment-management.component.html (Updated with Delete All Button and Fixed Class Filter) -->
<div class="payment-management-container">
  <!-- Header Section -->
  <header class="header-section">
    <!-- Title and Academic Year Row -->
    <div class="header-top">
      <div class="title-section">
        <div class="title-content">
          <span class="title-icon">💳</span>
          <div class="title-wrapper">
            <h1 class="title-text">Gestion des Paiements</h1>
            <p class="subtitle-text">Gérez les paiements de tous vos étudiants de manière efficace et centralisée</p>
          </div>
        </div>
        <div class="academic-year-badge">
          <span class="year-label">Année Académique</span>
          <span class="year-value">{{ currentAcademicYear }}</span>
        </div>
      </div>
    </div>
    
    <!-- Actions and Quick Stats Row -->
    <div class="header-bottom">
     
      
      <!-- Enhanced Action Buttons -->
      <div class="actions-section">
        <!-- Navigation Buttons -->
        <div class="nav-actions">

          
          <button class="btn-action btn-config" (click)="navigateToConfig()" title="Configurer les tarifs et paramètres">
            <div class="btn-icon-wrapper">
              <span class="btn-icon">⚙️</span>
            </div>
            <div class="btn-content">
              <span class="btn-title">Configuration</span>
              <span class="btn-description">Tarifs et paramètres</span>
            </div>
          </button>

          <button 
            class="btn-action btn-generate" 
            (click)="bulkGeneratePayments()" 
            [disabled]="isLoading || getStudentsWithoutRecord() === 0" 
            [class.btn-loading]="isLoading"
            title="Créer automatiquement des dossiers de paiement pour les étudiants qui n'en ont pas">
            
            <div class="btn-icon-wrapper">
              <div class="loading-spinner" *ngIf="isLoading"></div>
              <span class="btn-icon" *ngIf="!isLoading">🎯</span>
            </div>
            
            <div class="btn-content">
              <span class="btn-title">Créer Dossiers</span>
              <span class="btn-description" *ngIf="getStudentsWithoutRecord() > 0">
                {{getStudentsWithoutRecord()}} étudiant(s) sans dossier
              </span>
              <span class="btn-description" *ngIf="getStudentsWithoutRecord() === 0">
                ✓ Tous les dossiers créés
              </span>
            </div>
            
            <div class="btn-tooltip">
              <strong>Génération automatique</strong><br>
              Crée un dossier de paiement personnalisé pour chaque étudiant selon sa classe et les tarifs configurés
            </div>
          </button>

          <!-- Update Payment Amounts Button -->
          <button 
            class="btn-action btn-update" 
            (click)="updateExistingPayments()" 
            [disabled]="isLoading || !paymentConfig" 
            [class.btn-loading]="isLoading" 
            *ngIf="paymentConfig"
            title="Mettre à jour les montants selon la nouvelle configuration">
            
            <div class="btn-icon-wrapper">
              <div class="loading-spinner" *ngIf="isLoading"></div>
              <span class="btn-icon" *ngIf="!isLoading">🔄</span>
            </div>
            
            <div class="btn-content">
              <span class="btn-title">Actualiser Tarifs</span>
              <span class="btn-description">Appliquer la nouvelle configuration</span>
            </div>
            
            <div class="btn-tooltip">
              <strong>Mise à jour des montants</strong><br>
              Met à jour tous les dossiers existants avec les nouveaux tarifs configurés
            </div>
          </button>

          <!-- NEW: Delete All Payment Records Button -->
          <button 
            class="btn-action btn-delete-all" 
            (click)="deleteAllPaymentRecords()" 
            [disabled]="isLoading || getStudentsWithRecord() === 0" 
            [class.btn-loading]="isLoading"
            title="Supprimer tous les dossiers de paiement existants">
            
            <div class="btn-icon-wrapper">
              <div class="loading-spinner" *ngIf="isLoading"></div>
              <span class="btn-icon" *ngIf="!isLoading">🗑️</span>
            </div>
            
            <div class="btn-content">
              <span class="btn-title">Supprimer Tous</span>
              <span class="btn-description" *ngIf="getStudentsWithRecord() > 0">
                {{getStudentsWithRecord()}} dossier(s) existant(s)
              </span>
              <span class="btn-description" *ngIf="getStudentsWithRecord() === 0">
                Aucun dossier à supprimer
              </span>
            </div>
            
            <div class="btn-tooltip">
              <strong>Suppression totale</strong><br>
              Supprime définitivement tous les dossiers de paiement existants. Cette action est irréversible.
            </div>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Dashboard Cards -->
  <section class="dashboard-section" *ngIf="dashboard">
    <div class="stats-container">
      <div class="stats-grid">
        <div class="stat-card total-students">
          <div class="stat-header">
            <span class="stat-icon">👥</span>
            <span class="stat-label">Total Étudiants</span>
          </div>
          <div class="stat-value">{{ dashboard.overview.totalStudents }}</div>
          <div class="stat-change positive">
            <span class="change-icon">📈</span>
            <span>100% inscrit</span>
          </div>
        </div>

        <div class="stat-card completed-payments">
          <div class="stat-header">
            <span class="stat-icon">✅</span>
            <span class="stat-label">Paiements Complets</span>
          </div>
          <div class="stat-value">{{ dashboard.statusCounts.completed }}</div>
          <div class="stat-change positive">
            <span class="change-icon">📈</span>
            <span>{{ getCompletionRate() }}%</span>
          </div>
        </div>

        <div class="stat-card partial-payments">
          <div class="stat-header">
            <span class="stat-icon">⏱️</span>
            <span class="stat-label">Paiements Partiels</span>
          </div>
          <div class="stat-value">{{ dashboard.statusCounts.partial }}</div>
          <div class="stat-change warning">
            <span class="change-icon">⚠️</span>
            <span>En cours</span>
          </div>
        </div>

        <div class="stat-card overdue-payments">
          <div class="stat-header">
            <span class="stat-icon">❌</span>
            <span class="stat-label">En Retard</span>
          </div>
          <div class="stat-value">{{ dashboard.statusCounts.overdue }}</div>
          <div class="stat-change negative" *ngIf="dashboard.statusCounts.overdue > 0">
            <span class="change-icon">🚨</span>
            <span>Action requise</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Filters Section -->
  <section class="filters-section">
    <div class="filter-card">
      <div class="filter-header">
        <h3>Filtres & Recherche</h3>
        <button class="btn-clear" (click)="clearFilters()" title="Effacer les filtres">
          <span class="icon">🗑️</span>
        </button>
      </div>
      
      <div class="filter-container">
        <!-- Search Input -->
        <div class="search-field">
          <span class="search-icon">🔍</span>
          <input 
            type="text" 
            [value]="searchControl.value" 
            (input)="onSearchInput($event)"
            placeholder="Rechercher un étudiant..."
            class="search-input">
          <button 
            *ngIf="searchControl.value" 
            (click)="searchControl.setValue('')"
            class="clear-search">
            <span class="icon">✖️</span>
          </button>
        </div>

        <!-- Filter Controls -->
        <div class="filter-controls">
          <div class="form-group">
            <label for="academicYear">Année Académique</label>
            <select 
              id="academicYear"
              [value]="filterForm.get('academicYear')?.value"
              (change)="onAcademicYearChange($event)"
              class="form-select">
              <option *ngFor="let year of academicYears" [value]="year">
                {{ year }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="paymentStatus">Statut de Paiement</label>
            <select 
              id="paymentStatus"
              [value]="filterForm.get('paymentStatus')?.value"
              (change)="onPaymentStatusChange($event)"
              class="form-select">
              <option value="">Tous les statuts</option>
              <option *ngFor="let status of paymentStatuses.slice(1)" [value]="status.value">
                {{ status.label }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="classGroup">Niveau</label>
            <select 
              id="classGroup"
              [value]="filterForm.get('classGroup')?.value"
              (change)="onClassGroupChange($event)"
              class="form-select">
              <option value="">Tous les niveaux</option>
              <option *ngFor="let group of classGroups.slice(1)" [value]="group.value">
                {{ group.label }}
              </option>
            </select>
          </div>

          <!-- FIXED: Class Filter -->
          <div class="form-group">
            <label for="classId">Classe</label>
            <select 
              id="classId"
              [value]="filterForm.get('classId')?.value"
              (change)="onClassIdChange($event)"
              class="form-select">
              <option value="">Toutes les classes</option>
              <option *ngFor="let classItem of getFilteredClasses()" [value]="classItem._id">
                {{ classItem.name }} ({{ classItem.grade }})
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Actions -->
  <section class="quick-actions-section" *ngIf="getQuickActions().length > 0">
    <div 
      class="quick-action" 
      *ngFor="let action of getQuickActions()"
      (click)="action.action()"
      [style.--action-color]="action.color">
      <span class="action-icon">{{ action.icon }}</span>
      <span class="action-text">{{ action.label }}</span>
      <span class="action-label">Voir →</span>
    </div>
  </section>

  <!-- Students Table -->
  <section class="table-section">
    <div class="table-card">
      <div class="table-header">
        <div class="table-title">
          <h2>Liste des Étudiants</h2>
          <div class="status-chips">
            <button 
              *ngFor="let status of paymentStatuses.slice(1)" 
              class="status-chip"
              [class.active]="filterForm.get('paymentStatus')?.value === status.value"
              (click)="filterByStatus(status.value)"
              [style.--chip-color]="status.color">
              <span class="chip-icon">{{ getStatusEmoji(status.value) }}</span>
              <span class="chip-text">{{ getStatusCount(status.value) }}</span>
            </button>
          </div>
        </div>
        
        <div class="table-info">
          <span class="student-count">
            <strong>{{ students.length }}</strong> étudiants
            <span *ngIf="searchControl.value || hasActiveFilters()"> - Filtrés</span>
          </span>
        </div>
      </div>

      <div class="table-container" [class.loading]="isLoading">
        <!-- Loading Overlay -->
        <div class="loading-overlay" *ngIf="isLoading">
          <div class="spinner"></div>
          <p>Chargement des données...</p>
        </div>

        <!-- Students Table -->
        <div class="table-wrapper">
          <table class="payment-table">
            <thead>
              <tr>
                <th class="expand-col"></th>
                <th class="student-col">Étudiant</th>
                <th class="class-col">Classe</th>
                <th class="status-col">Statut</th>
                <th class="financial-col">Informations Financières</th>
                <th class="progress-col">Progression</th>
                <th class="actions-col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let student of students; let i = index">
                <!-- Main Student Row -->
                <tr class="student-row" [class.expanded]="expandedStudentId === student._id">
                  <td class="expand-cell">
                    <button 
                      class="expand-btn"
                      (click)="toggleExpandRow(student)" 
                      [disabled]="!student.hasPaymentRecord">
                      <span class="expand-icon">
                        {{ expandedStudentId === student._id ? '⬆️' : '⬇️' }}
                      </span>
                    </button>
                  </td>
                  
                  <td class="student-cell">
                    <div class="student-info">
                      <div class="student-avatar">
                        <span class="avatar-icon">{{ student.name.charAt(0).toUpperCase() }}</span>
                      </div>
                      <div class="student-details">
                        <div class="student-name">{{ student.name }}</div>
                        <div class="student-email">{{ student.email }}</div>
                      </div>
                    </div>
                  </td>

                  <td class="class-cell">
                    <div class="class-info">
                      <span class="class-name">{{ getClassName(student) }}</span>
                      <span class="class-grade" *ngIf="getClassGrade(student) !== 'Non assigné'">
                        Grade: {{ getClassGrade(student) }}
                      </span>
                      <span 
                        *ngIf="student.classGroup" 
                        class="class-chip"
                        [style.background-color]="getClassGroupColor(student.classGroup)"
                        [style.color]="'white'">
                        {{ getClassGroupLabel(student.classGroup) }}
                      </span>
                    </div>
                  </td>

                  <td class="status-cell">
                    <div 
                      class="status-badge"
                      [class]="'status-' + (student.paymentRecord?.overallStatus || 'no_record')">
                      <span class="status-icon">
                        {{ getStatusEmoji(student.paymentRecord?.overallStatus || 'no_record') }}
                      </span>
                      <span class="status-text">
                        {{ getStatusLabel(student.paymentRecord?.overallStatus || 'no_record') }}
                      </span>
                    </div>
                  </td>

                  <td class="financial-cell">
                    <div class="financial-info" *ngIf="student.paymentRecord">
                      <div class="amount-row">
                        <span class="amount-label">Total:</span>
                        <span class="amount-value total">{{ formatCurrency(student.paymentRecord.totalAmount) }}</span>
                      </div>
                      <div class="amount-row">
                        <span class="amount-label">Payé:</span>
                        <span class="amount-value paid">{{ formatCurrency(student.paymentRecord.paidAmount) }}</span>
                      </div>
                      <div class="amount-row">
                        <span class="amount-label">Restant:</span>
                        <span 
                          class="amount-value remaining" 
                          [class.overdue]="student.paymentRecord.overallStatus === 'overdue'">
                          {{ formatCurrency(student.paymentRecord.remainingAmount) }}
                        </span>
                      </div>
                    </div>
                    <div class="no-record" *ngIf="!student.paymentRecord">
                      <span class="no-record-icon">❓</span>
                      <span>Aucun dossier</span>
                    </div>
                  </td>

                  <td class="progress-cell">
                    <div class="progress-container" *ngIf="student.paymentRecord">
                      <div class="progress-info">
                        <span class="progress-percentage">{{ calculateProgress(student) }}%</span>
                        <div class="progress-bar mini">
                          <div 
                            class="progress-fill"
                            [class]="'progress-' + student.paymentRecord.overallStatus"
                            [style.width.%]="calculateProgress(student)">
                          </div>
                        </div>
                      </div>
                    </div>
                    <span class="no-record" *ngIf="!student.paymentRecord">—</span>
                  </td>

                  <td class="actions-cell">
                    <div class="action-buttons">
                      <!-- Generate Payment Record -->
                      <button 
                        class="action-btn generate"
                        title="Générer dossier de paiement"
                        *ngIf="!student.hasPaymentRecord"
                        (click)="generatePaymentRecord(student)">
                        <span class="btn-icon">➕</span>
                      </button>

                      <!-- Record Monthly Payment -->
                      <button 
                        class="action-btn monthly"
                        title="Enregistrer paiement mensuel"
                        *ngIf="student.hasPaymentRecord && student.paymentRecord?.paymentType === 'monthly'"
                        (click)="openPaymentDialog(student, 'monthly')">
                        <span class="btn-icon">📅</span>
                      </button>

                      <!-- Record Annual Payment -->
                      <button 
                        class="action-btn annual"
                        title="Enregistrer paiement annuel"
                        *ngIf="student.hasPaymentRecord && !student.paymentRecord?.annualPayment?.isPaid"
                        (click)="openPaymentDialog(student, 'annual')">
                        <span class="btn-icon">📋</span>
                      </button>

                      <!-- View Details -->
                      <button 
                        class="action-btn details"
                        title="Voir détails"
                        *ngIf="student.hasPaymentRecord"
                        (click)="toggleExpandRow(student)">
                        <span class="btn-icon">👁️</span>
                      </button>

                      <!-- Delete Payment Record -->
                      <button 
                        class="action-btn delete"
                        title="Supprimer dossier"
                        *ngIf="student.hasPaymentRecord"
                        (click)="deletePaymentRecord(student)">
                        <span class="btn-icon">🗑️</span>
                      </button>
                    </div>
                  </td>
                </tr>

                <!-- Expanded Detail Row -->
                <tr 
                  class="expanded-row" 
                  *ngIf="student.paymentRecord && expandedStudentId === student._id"
                  [@detailExpand]="'expanded'">
                  <td colspan="7" class="expanded-cell">
                    <div class="expanded-content">
                      <div class="payment-details">
                        
                        <div class="details-header">
                          <h3>Détails des Paiements - {{ student.name }}</h3>
                          <div class="details-summary">
                            <span class="summary-item">
                              <strong>{{ student.paymentRecord.paymentType === 'annual' ? 'Paiement Annuel' : 'Paiements Mensuels' }}</strong>
                            </span>
                            <span class="summary-item">
                              Année: {{ student.paymentRecord.academicYear }}
                            </span>
                            <span class="summary-item">
                              Groupe: {{ getClassGroupLabel(student.paymentRecord.classGroup) }}
                            </span>
                          </div>
                        </div>
                        
                        <div class="monthly-payments-section" *ngIf="student.paymentRecord.monthlyPayments.length > 0">
                          <h4>Calendrier des Paiements Mensuels</h4>
                          <div class="payments-grid">
                            <div 
                              class="payment-month-card" 
                              *ngFor="let payment of student.paymentRecord.monthlyPayments; let idx = index"
                              [class]="'payment-' + payment.status"
                              [class.overdue]="isPaymentOverdue(payment.dueDate)">
                              
                              <div class="month-header">
                                <div class="month-info">
                                  <span class="month-name">{{ payment.monthName }}</span>
                                  <span class="due-date">Échéance: {{ formatDate(payment.dueDate) }}</span>
                                  <span class="overdue-warning" *ngIf="isPaymentOverdue(payment.dueDate) && payment.status !== 'paid'">
                                    ⚠️ En retard
                                  </span>
                                </div>
                                <span class="status-icon">
                                  {{ getStatusEmoji(payment.status) }}
                                </span>
                              </div>
                              
                              <div class="month-financial">
                                <div class="amount-info">
                                  <span class="amount-due">Dû: {{ formatCurrency(payment.amount) }}</span>
                                  <span class="amount-paid" *ngIf="payment.paidAmount > 0">
                                    Payé: {{ formatCurrency(payment.paidAmount) }}
                                  </span>
                                  <span class="amount-remaining" *ngIf="payment.paidAmount < payment.amount">
                                    Restant: {{ formatCurrency(payment.amount - payment.paidAmount) }}
                                  </span>
                                </div>
                                
                                <div class="payment-info" *ngIf="payment.paymentDate">
                                  <span class="payment-date">{{ formatDate(payment.paymentDate) }}</span>
                                  <span class="payment-method">{{ getPaymentMethodLabel(payment.paymentMethod) }}</span>
                                  <span class="receipt-number" *ngIf="payment.receiptNumber">
                                    Reçu: {{ payment.receiptNumber }}
                                  </span>
                                </div>
                              </div>

                              <div class="month-actions" *ngIf="payment.status !== 'paid'">
                                <button 
                                  class="btn btn-small pay-btn"
                                  (click)="openPaymentDialog(student, 'monthly', idx)">
                                  <span class="btn-icon">💳</span>
                                  {{ payment.status === 'partial' ? 'Compléter' : 'Payer' }}
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="annual-payment-section" *ngIf="student.paymentRecord.annualPayment?.isPaid">
                          <h4>Paiement Annuel</h4>
                          <div class="annual-payment-info">
                            <div class="annual-details">
                              <span><strong>Méthode:</strong> {{ getPaymentMethodLabel(student.paymentRecord.annualPayment?.paymentMethod) }}</span>
                              <span *ngIf="student.paymentRecord.annualPayment?.discount">
                                <strong>Remise:</strong> {{ formatCurrency(student.paymentRecord.annualPayment?.discount || 0) }}
                              </span>
                              <span *ngIf="student.paymentRecord.annualPayment?.receiptNumber">
                                <strong>Reçu:</strong> {{ student.paymentRecord.annualPayment?.receiptNumber }}
                              </span>
                              <span *ngIf="student.paymentRecord.annualPayment?.notes">
                                <strong>Notes:</strong> {{ student.paymentRecord.annualPayment?.notes }}
                              </span>
                            </div>
                          </div>
                        </div>

                        <!-- Payment Summary -->
                        <div class="payment-summary">
                          <div class="summary-stats">
                            <div class="summary-stat">
                              <span class="stat-label">Montant Total</span>
                              <span class="stat-value">{{ formatCurrency(student.paymentRecord.totalAmount) }}</span>
                            </div>
                            <div class="summary-stat">
                              <span class="stat-label">Montant Payé</span>
                              <span class="stat-value paid">{{ formatCurrency(student.paymentRecord.paidAmount) }}</span>
                            </div>
                            <div class="summary-stat">
                              <span class="stat-label">Montant Restant</span>
                              <span class="stat-value remaining">{{ formatCurrency(student.paymentRecord.remainingAmount) }}</span>
                            </div>
                            <div class="summary-stat">
                              <span class="stat-label">Progression</span>
                              <span class="stat-value">{{ calculateProgress(student) }}%</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>

          <!-- No Data State -->
          <div class="no-data-state" *ngIf="!isLoading && students.length === 0">
            <div class="no-data-content">
              <span class="no-data-icon">🎓</span>
              <h3>Aucun étudiant trouvé</h3>
              <p *ngIf="hasActiveFilters()">Essayez de modifier vos filtres de recherche</p>
              <p *ngIf="!hasActiveFilters()">Aucun étudiant n'est encore inscrit</p>
              <button class="btn btn-primary" (click)="clearFilters()" *ngIf="hasActiveFilters()">
                Effacer les filtres
              </button>
            </div>
          </div>
        </div>

        <!-- Pagination -->
        <div class="table-footer">
          <div class="pagination">
            <button 
              class="pagination-btn"
              [disabled]="currentPage <= 1"
              (click)="goToPage(currentPage - 1)">
              ◀️ Précédent
            </button>
            
            <span class="pagination-info">
              Page {{ currentPage }} sur {{ totalPages }}
              ({{ totalStudents }} étudiants au total)
            </span>
            
            <button 
              class="pagination-btn"
              [disabled]="currentPage >= totalPages"
              (click)="goToPage(currentPage + 1)">
              Suivant ▶️
            </button>
          </div>
          
          <div class="page-size-selector">
            <label for="pageSize">Éléments par page:</label>
            <select 
              id="pageSize"
              [value]="pageSize"
              (change)="onPageSizeChange($event)"
              class="page-size-select">
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="100">100</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Payment Dialog Modal -->
  <div class="modal-overlay" *ngIf="isPaymentDialogOpen" (click)="closePaymentDialog()">
    <div class="modal-container" (click)="$event.stopPropagation()">
      <app-payment-dialog
        *ngIf="currentDialogData"
        [data]="currentDialogData"
        (dialogClosed)="closePaymentDialog($event)">
      </app-payment-dialog>
    </div>
  </div>

  <!-- Confirmation Modal -->
  <div class="modal-overlay" *ngIf="confirmationState.isOpen" [@fadeIn] (click)="onConfirmationCancel()">
    <div class="modal-container" (click)="$event.stopPropagation()" [@slideIn]>
      <div class="modal-header" [class]="'modal-header-' + (confirmationState.config?.type || 'info')">
        <div class="modal-icon">
          <span>{{ confirmationState.config?.icon || getDefaultConfirmationIcon() }}</span>
        </div>
        <h3 class="modal-title">{{ confirmationState.config?.title || 'Confirmation' }}</h3>
      </div>
      
      <div class="modal-body">
        <p class="modal-message">{{ confirmationState.config?.message }}</p>
      </div>
      
      <div class="modal-footer">
        <button 
          class="btn btn-secondary" 
          (click)="onConfirmationCancel()"
          type="button">
          {{ confirmationState.config?.cancelText || 'Annuler' }}
        </button>
        <button 
          class="btn"
          [class]="'btn-' + (confirmationState.config?.type || 'primary')"
          (click)="onConfirmationConfirm()"
          type="button">
          {{ confirmationState.config?.confirmText || 'Confirmer' }}
        </button>
      </div>
    </div>
  </div>

  <!-- Toaster Container -->
  <div class="toaster-container">
    <div *ngFor="let toast of toasts" 
         class="toast" 
         [class]="'toast-' + toast.type"
         [@slideInOut]>
      <div class="toast-content">
        <div class="toast-icon">
          <!-- Success Icon -->
          <svg *ngIf="toast.type === 'success'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          <!-- Error Icon -->
          <svg *ngIf="toast.type === 'error'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="15" y1="9" x2="9" y2="15"/>
            <line x1="9" y1="9" x2="15" y2="15"/>
          </svg>
          <!-- Warning Icon -->
          <svg *ngIf="toast.type === 'warning'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
            <line x1="12" y1="9" x2="12" y2="13"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
          </svg>
          <!-- Info Icon -->
          <svg *ngIf="toast.type === 'info'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="16" x2="12" y2="12"/>
            <line x1="12" y1="8" x2="12.01" y2="8"/>
          </svg>
        </div>
        <div class="toast-message">
          <div class="toast-title" *ngIf="toast.title">{{ toast.title }}</div>
          <div class="toast-text">{{ toast.message }}</div>
        </div>
        <button class="toast-close" (click)="removeToast(toast.id)">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>